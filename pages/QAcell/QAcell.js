
const url = '../QAanswer/answer';
var app = getApp();
Page({

  /**
   * é¡µé¢çš„åˆå§‹æ•°æ®
   */
  data: {
    cellList: [],
    title: ''
  },

  /**
   * ç”Ÿå‘½å‘¨æœŸå‡½æ•°--ç›‘å¬é¡µé¢åŠ è½½
   */
  onLoad: function (options) {
    this.setNavigationBarTitleText(options.title);
    let flag = options.flag;
    let list = [];
    if(flag == 1){
      list = [{ cellTitle: 'å¥”è·‘å®æ˜¯åšä»€ä¹ˆçš„ï¼Ÿ', path: url, content: 'å¥”è·‘å®æ˜¯ä¸€å®¶ç§å®¶è½¦å¹¿å‘Šå¹³å°ï¼Œè‡´åŠ›äºŽä¸ºè½¦ä¸»åˆ›é€ æ›´å¤šçš„å¢žæ”¶æ¸ é“ï¼ŒèŽ·å–æ›´å¤šçš„æ”¶ç›Šï¼Œä»Žè€Œå‡è½»è½¦ä¸»æ—¥å¸¸å…»è½¦è´Ÿæ‹…ã€‚'}]
    } else if(flag == 2){
      list = [{ cellTitle: 'å¦‚ä½•æ³¨å†ŒåŠ å…¥å¥”è·‘å®ï¼Ÿ', path: url, content: 'æ‰“å¼€å¾®ä¿¡æœç´¢ã€å¥”è·‘å®ã€‘å°ç¨‹åºæˆ–è€…å…³æ³¨ã€å¥”è·‘å®ã€‘å¾®ä¿¡å…¬ä¼—å·ï¼Œä½¿ç”¨æ‰‹æœºå·è¿›è¡Œæ³¨å†Œã€‚' }, 
        { cellTitle: 'å¦‚ä½•é¢†å–å¹¿å‘Šä»»åŠ¡ï¼Ÿ', path: url, content: 'æˆåŠŸæ³¨å†ŒåŽï¼Œè½¦ä¸»åœ¨ã€èº«ä»½è®¤è¯ã€‘è¿›è¡Œè½¦ä¸»ã€è½¦è¾†ä¿¡æ¯è®¤è¯ã€‚èº«ä»½å®¡æ ¸é€šè¿‡åŽå¯åœ¨ã€å¹¿å‘Šå¸‚åœºã€‘é€‰æ‹©ç›¸åº”çš„å¹¿å‘Šï¼ŒæŒ‰ç…§é¢„çº¦æ—¶é—´å¯¼èˆªå‰å¾€çº¿ä¸‹æœåŠ¡ç½‘ç‚¹è¿›è¡Œå¹¿å‘Šå®‰è£…ã€‚' }, 
        { cellTitle: 'å¹¿å‘Šç»“æŸåŽæ€Žä¹ˆæ£€æµ‹ï¼Ÿ', path: url, content: 'å¹¿å‘Šç»“æŸåŽè½¦ä¸»éœ€è¦åœ¨ä¸ƒä¸ªè‡ªç„¶æ—¥å†…å‰å¾€æœåŠ¡ç½‘ç‚¹ï¼ˆç‰¹æ®Šæƒ…å†µé™¤å¤–ï¼‰ï¼ŒæœåŠ¡ç½‘ç‚¹å·¥ä½œäººå‘˜ä¼šå¯¹å¹¿å‘Šç”»é¢è¿›è¡Œå®Œæ•´æ€§æ£€æµ‹ï¼Œå®¡æ ¸é€šè¿‡åŽè½¦ä¸»å¯åœ¨ç¨‹åºå†…ç”³è¯·æçŽ°ï¼Œè½¦ä¸»çš„å¹¿å‘Šæ”¶ç›Šä¼šå‘æ”¾åˆ°è½¦ä¸»é“¶è¡Œå¡å†…ã€‚' }, 
        { cellTitle: 'å¹¿å‘Šç»“æŸåŽæ”¶ç›Šä»€ä¹ˆæ—¶å€™åˆ°è´¦ï¼Ÿ', path: url, content: 'å¹¿å‘Šç»“æŸæ£€æµ‹å®¡æ ¸é€šè¿‡åŽï¼Œè½¦ä¸»å¯åœ¨ç¨‹åºå†…ç»‘å®šé“¶è¡Œå¡ï¼Œå¹¿å‘Šæ”¶ç›Šä¼šåœ¨ä¸‰ä¸ªå·¥ä½œæ—¥å†…åˆ°è´¦ï¼ˆå®žé™…åˆ°è´¦æ—¶é—´å¯èƒ½ä¼šå—åˆ°é“¶è¡Œå½±å“ï¼‰ã€‚' }, 
        { cellTitle: 'å¹¿å‘Šå¦‚ä½•è®¡è´¹ï¼Ÿ', path: url, content: 'å¥”è·‘å®å°ç¨‹åºæ ¹æ®å¹¿å‘Šæ—¶é—´ä»¥å›ºå®šä»·æ ¼çš„è®¡ç®—æ–¹å¼ç»™åˆ°è½¦ä¸»ï¼ˆç‰¹æ®Šæƒ…å†µé™¤å¤–ï¼‰ã€‚', flag: 'valuation'}, 
        { cellTitle: 'å¹¿å‘ŠæŸåå¦‚ä½•å¤„ç†ï¼Ÿ', path: url, content: 'å¦‚æžœå¹¿å‘Šä¸­é€”æŸåè¯·ç¬¬ä¸€æ—¶é—´è”ç³»å¥”è·‘å®å®¢æœï¼Œå¥”è·‘å®ä¼šå®‰æŽ’å·¥ä½œäººå‘˜è¿›è¡Œå¯¹æŽ¥ã€‚å¹¿å‘Šç»“æŸåŽæ£€æµ‹æ—¶å‡ºçŽ°æŸåå¥”è·‘å®ä¼šæ ¹æ®è§„åˆ™æ‰£é™¤ç›¸åº”è´¹ç”¨ï¼Œå¹¿å‘Šæ¯ç¼ºå°‘ä¸€ä¸ªé—¨æ‰£é™¤å¹¿å‘Šæ€»æ”¶ç›Šçš„25%ã€‚' }]
    } else if(flag == 3){
      list = [{ cellTitle: 'æ­¤ç±»ç§å®¶è½¦è½¦èº«å¹¿å‘Šæ˜¯å¦åˆæ³•ï¼Ÿ', path: url, content: '2016å¹´2æœˆ19æ—¥å›½åŠ¡é™¢å‘å¸ƒã€Šå…³äºŽç¬¬äºŒæ‰¹å–æ¶ˆ152é¡¹ä¸­å¤®æŒ‡å®šåœ°æ–¹å®žæ–½è¡Œæ”¿å®¡æ‰¹äº‹é¡¹çš„å†³å®šã€‹ï¼Œå–æ¶ˆåŽŸå±žå¸‚ã€åŽ¿çº§å·¥å•†è¡Œæ”¿ç®¡ç†éƒ¨é—¨(å¸‚åœºç›‘ç£ç®¡ç†éƒ¨é—¨)å®žæ–½çš„æˆ·å¤–å¹¿å‘Šç™»è®°è¡Œæ”¿å®¡æ‰¹ã€‚å› æ­¤ï¼Œè½¦èº«å¹¿å‘Šä¸éœ€è¦å·¥å•†ç®¡ç†éƒ¨é—¨å®¡æ‰¹ã€‚ \nå›½å®¶ã€Šé“è·¯å®‰å…¨æ³•ã€‹ã€Šé“è·¯å®‰å…¨æ³•å®žæ–½æ¡ä¾‹ã€‹ã€ŠæœºåŠ¨è½¦ç™»è®°è§„å®šã€‹ç­‰æ³•å¾‹æ³•è§„è§„å®šï¼Œç§å®¶è½¦è½¦èº«å¹¿å‘Šä¸è¶…è¿‡è½¦èº«2/3æ˜¯ä¸å½±å“é©¾é©¶å®‰å…¨çš„ä¸å±žäºŽè¿æ³•è¡Œä¸ºã€‚ å¥”è·‘å®è½¦èº«å¹¿å‘Šå®Œå…¨ç¬¦åˆå›½å®¶ç›¸å…³æ³•å¾‹æ³•è§„ï¼Œä¸å±žäºŽè¿æ³•è¡Œä¸ºã€‚' },
        {
          cellTitle: 'å¦‚å› å¥”è·‘å®è½¦èº«å¹¿å‘Šè¢«äº¤è­¦ç½šæ¬¾ã€æ‰£åˆ†æ€Žä¹ˆå¤„ç†ï¼Ÿ', path: url, content: 'é¦–å…ˆå¥”è·‘å®è½¦èº«å¹¿å‘Šå®Œå…¨ç¬¦åˆå›½å®¶ç›¸å…³æ³•å¾‹æ³•è§„ï¼Œä¸å±žäºŽè¿æ³•è¡Œä¸ºã€‚å¦‚æžœæ‚¨å› å¥”è·‘å®è½¦èº«å¹¿å‘Šè¢«äº¤è­¦ç½šæ¬¾ã€æ‰£åˆ†ç­‰æƒ…å†µï¼Œè¯·åŠæ—¶è”ç³»è”ç³»å¥”è·‘å®å®¢æœï¼Œæä¾›ç›¸å…³ä¿¡æ¯æˆ‘ä»¬å°†å®‰æŽ’ç›¸å…³å·¥ä½œäººå‘˜ä¸ºæ‚¨å¤„ç†ã€‚è¯·åœ¨è§„å®šæ—¶é—´å†…è¿›è¡Œå¹¿å‘Šæ£€æµ‹ï¼Œè¶…è¿‡æ—¶é—´å¥”è·‘å®ä¸äºˆè´Ÿè´£ã€‚ å¥”è·‘å®å…¨å›½å®¢æœçƒ­çº¿ï¼š400-888-3390ã€‚' }]
    } else if(flag == 4){
      list = [{ cellTitle: 'å¹¿å‘Šè´´æ˜¯å¦ä¼šä¼¤å®³è½¦è¾†æ¼†é¢ï¼Ÿ', path: url, content: 'æ‚¨å¥½ï¼Œå¥”è·‘å®è½¦èº«å¹¿å‘Šææ–™ä½¿ç”¨çš„æ˜¯ç¾Žå›½â€œè‰¾åˆ©ä¸¹å°¼æ£®â€æˆ·å¤–å†™çœŸèƒŒèƒ¶ï¼Œä¸æŽ‰æ¼†ã€ä¸ç•™èƒ¶ã€‚åªè¦æ‚¨ç²˜è´´å¹¿å‘Šçš„è½¦è¾†æ˜¯åŽŸåŽ‚è½¦æ¼†ï¼Œå¹¿å‘Šç²˜è´´ä½ç½®æ— åˆ®ç—•ï¼Œè½¦è´´ä¸ä¼šå¯¹è½¦æ¼†é€ æˆä¼¤å®³ã€‚ \nå¹¿å‘Šæ£€æµ‹åœ¨æœåŠ¡ç½‘ç‚¹å·¥ä½œäººå‘˜æ’•æŽ‰æ—¶ï¼Œæ¸…é™¤è½¦èº«å¹¿å‘Šå¦‚é€ æˆå¯¹è½¦æ¼†ï¼ˆæ­¤è½¦æ¼†ä¸ºåŽŸè½¦æ¼†ï¼‰ä¼¤å®³ï¼Œè½¦æ¼†ç»´ä¿®è´¹ç”¨ç”±å¥”è·‘å®è´Ÿè´£ã€‚ \nå¦‚è½¦ä¸»è½¦è¾†éžåŽŸè½¦è½¦æ¼†ï¼Œæ’•æŽ‰è½¦èº«å¹¿å‘Šå¸¦æ¥çš„è½¦æ¼†æŸä¼¤ï¼ŒåŒæ–¹å¦è¡Œåå•†è§£å†³ã€‚ \nå¦‚è½¦è¾†æ¼†é¢æœ¬èº«æœ‰ç ´æŸï¼Œè½¦ä¸»ä»å‚åŠ è½¦èº«å¹¿å‘Šæ´»åŠ¨ï¼Œä¸€åˆ‡æŸå¤±ä¸Žå¥”è·‘å®æ— å…³ã€‚' }, 
        { cellTitle: 'æ€Žä¹ˆè”ç³»å¥”è·‘å®ï¼Ÿ', path: url, content: 'é€šè¿‡ä»¥ä¸‹æ–¹å¼å¯è”ç³»å¥”è·‘å®ï¼š', flag: 'contact' },
        { cellTitle: 'ä»€ä¹ˆæ ·çš„è½¦å¯ä»¥åŠ å…¥å¥”è·‘å®ï¼Ÿ', path: url, content: 'ç½‘çº¦è½¦ä¸Žç§å®¶è½¦å‡å¯ä»¥åŠ å…¥å¥”è·‘å®é¢†å–å¹¿å‘Šä»»åŠ¡ã€‚ \nè½¦ä¸»å‡†å…¥æ ‡å‡†ï¼š \næ— äº¤é€šè‚‡äº‹çŠ¯ç½ªã€å±é™©é©¾é©¶çŠ¯ç½ªè®°å½•ï¼Œæ— å¸æ¯’è®°å½•çš„è½¦ä¸»å‡å¯ã€‚ \nç§å®¶è½¦å‡†å…¥æ ‡å‡†ï¼š \n1.ä¸ƒåº§åŠä»¥ä¸‹ä¹˜ç”¨è½¦ï¼Œè½¦å†µè‰¯å¥½ï¼› \n2.è½¦è¾†æ‰€æœ‰äººï¼šé©¾é©¶è½¦è¾†å¿…é¡»ä¸ºæ³¨å†Œè½¦è¾†ï¼Œè‡ªç”±è½¦è¾†æˆ–èŽ·å¾—è½¦ä¸»è®¸å¯ï¼› \n3.è½¦è¾†æ³¨å†Œæ—¶é—´ä¸‰å¹´å†…ï¼› \n4.è½¦èº«æ— æŽ‰æ¼†è¡¥æ¼†åŽ†å²ï¼Œè½¦è¾†æ¼†é¢æ˜¯åŽŸåŽ‚åŽŸè£…æ¼†ã€‚ \nç½‘çº¦è½¦å‡†å…¥æ ‡å‡†ï¼š \n1.ç¬¦åˆå›½å®¶ã€Šç½‘ç»œé¢„çº¦å‡ºç§Ÿæ±½è½¦ç»è¥æœåŠ¡ç®¡ç†æš‚è¡ŒåŠžæ³•ã€‹çš„è½¦è¾†ï¼› \n2.èŽ·å¾—ã€Šç½‘ç»œé¢„çº¦å‡ºç§Ÿæ±½è½¦è¿è¾“è¯ã€‹çš„è½¦è¾†ï¼› \n3.ç¬¦åˆæ»´æ»´è½¦è¾†å‡†å…¥æ¡ä»¶çš„ï¼› \n4.ä¸ƒåº§åŠä»¥ä¸‹ä¹˜ç”¨è½¦ï¼Œè½¦å†µè‰¯å¥½ï¼› \n5.è½¦è¾†æ‰€æœ‰äººï¼šé©¾é©¶è½¦è¾†å¿…é¡»ä¸ºæ³¨å†Œè½¦è¾†ï¼Œè‡ªç”±è½¦è¾†æˆ–èŽ·å¾—è½¦ä¸»è®¸å¯ï¼›\n 6.è½¦è¾†æ³¨å†Œæ—¶é—´ä¸‰å¹´å†…ï¼› \n7.è½¦èº«æ— æŽ‰æ¼†è¡¥æ¼†åŽ†å²ï¼Œè½¦è¾†æ¼†é¢æ˜¯åŽŸåŽ‚åŽŸè£…æ¼†ã€‚' },
        { cellTitle: 'å¦‚æžœå¹¿å‘Šåœ¨æ‰§è¡Œä¸­æ„å¤–æŽ‰è½ç­‰æƒ…å†µæ€Žä¹ˆå¤„ç†ï¼Ÿ', path: url, content: 'å¦‚å¹¿å‘Šåœ¨æ‰§è¡Œä¸­å‡ºçŽ°æ„å¤–æŽ‰è½ï¼Œè¯·åŠæ—¶æ‹æ‘„è½¦èº«ç…§ç‰‡ã€ä¿ç•™å…¶å®ƒç›¸å…³è¯æ®ï¼ŒåŒæ—¶è”ç³»å¥”è·‘å®å®¢æœï¼Œæˆ‘ä»¬ä¼šå®‰æŽ’ç›¸å…³å·¥ä½œäººå‘˜åŠæ—¶ä¸Žæ‚¨å–å¾—è”ç³»è§£å†³é—®é¢˜ã€‚' }]
    }

    this.setData({
      cellList: list,
      title: options.title
    })
  },

  setNavigationBarTitleText: function(barText){
    if(!barText){
      barText = "å¥”è·‘å®"
    }
    wx.setNavigationBarTitle({
      title: barText,
    })
  },

  navigateListener: function (e) {
    console.log(e);
    var that = this;
    //è®¡è´¹é€»è¾‘åˆ¤æ–­
    if (e.detail.cell.flag == 'valuation'){
      var loginFlag = app.globalData.login;
      if (loginFlag == 1) {//ç™»å½•äº†
      wx.showLoading({
        title: 'å¥”è·‘ä¸­ðŸš—ã€‚..',
      })
        wx.request({
          url: app.globalData.baseUrl + 'app/get/user_auth_status',
          data: {},
          header: app.globalData.header,
          success: res => {
            if (res.data.code == 1000) {
              if (res.data.data.user_type == 1) {//æ»´æ»´åˆæ³•è½¦ä¸»
                wx.navigateTo({
                  url: '../valuation/valuation',
                })
              }else{
                wx.navigateTo({
                  url: e.detail.cell.path + '?title=' + that.data.title + '&content=' + e.detail.cell.content + '&flag=' + e.detail.cell.flag,
                })
              }
            } else {
              wx.showModal({
                title: 'æç¤º',
                showCancel: false,
                content: res.data.msg
              });
            }
          },
          fail: res => {
            wx.showModal({
              title: 'æç¤º',
              showCancel: false,
              content: 'ç½‘ç»œé”™è¯¯'
            });
          },
          complete:res=>{
            wx.hideLoading();
          }
        })

      }else{
        wx.navigateTo({
          url: e.detail.cell.path + '?title=' + that.data.title + '&content=' + e.detail.cell.content + '&flag=' + e.detail.cell.flag,
        })
      }
    }else{
      wx.navigateTo({
        url: e.detail.cell.path + '?title=' + that.data.title + '&content=' + e.detail.cell.content + '&flag=' + e.detail.cell.flag,
      })
    }
  }
})